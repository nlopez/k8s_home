---
apiVersion: v1
kind: ConfigMap
metadata:
  name: yt-dlp
  namespace: media
data:
  config: |-
    --add-header "User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36"
    --alias autosubs "--write-subs --write-auto-subs --sub-lang en --no-download --download-archive /media/youtube/cfg/download-archive/livechat.txt"
    --alias comments "--write-comments --no-download  --no-download-archive"
    --alias live "--live-from-start --wait-for-video 60"
    --alias livechat "--live --write-subs --sub-lang live_chat --no-download --download-archive /media/youtube/cfg/download-archive/livechat.txt"
    --alias livestream "--live --video"
    --alias video "--write-thumbnail --write-info-json --embed-chapters --embed-metadata --no-embed-info-json"
    --cache-dir /media/youtube/cache
    --clean-info-json
    --cookies /media/youtube/cfg/cookies.txt
    --download-archive /media/youtube/cfg/download-archive/default.txt
    --merge-output-format mkv
    --no-part
    --output "out/%(channel)s_[%(channel_id)s]/%(release_timestamp>%Y%m%dT%H%MZ,timestamp>%Y%m%dT%H%MZ)s_%(title)s_[%(id)s].%(ext)s"
    --paths "temp:/yt-dlp-temp"
    --paths /media/youtube
    --restrict-filenames
